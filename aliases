# personal aliases
# For a full list of active aliases, run `alias`.

# global bash aliases
alias ls='ls -G -h --color=auto'
alias ll='ls -l'
alias lt='ls -alhrt | tail'
alias diff='colordiff'
alias rgi='rg -i'
alias malina='ssh pi@malina.local' # ssh malina
alias llt='ls -lhrt | tail'
alias dush='du -sh * | sort -h'
alias my-public-ip='curl ifconfig.me'
alias w='curl "wttr.in/Prague?1"'

# macos alias
alias nc='netcat'
alias err="log show --predicate 'messageType == error' --style syslog --info --last 1m | cut -c 1-22,43-999"
alias vpnx='scutil --nc stop "CloudTalk VPN"'

# vscode
alias vs='code'

# kubernetes updatecontext https://github.com/borisputerka/updatecontext
# fzf inline alias
alias _inline_fzf="fzf --multi --ansi -i -1 --height=50% --reverse -0 --header-lines=1 --inline-info --border"

# kubernetes contexts switcher
kcs() {
    local context="$(kubectl config get-contexts | _inline_fzf | awk '{print $1}')"
    eval kubectl config set current-context "${context}"
}

# git alias
# source: https://github.com/robbyrussell/oh-my-zsh/blob/master/plugins/git/git.plugin.zsh
alias g='git'
alias gl="git log --graph --pretty=format:'%C(auto)%h -%d %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit"
alias gpl='git pull --all'
alias gp='git push --follow-tags'
alias ga='git add -A'
alias gac="git add -A && git commit -m"
alias gcf="git add -A && git commit --fixup=HEAD"
alias grbi='git rebase -i --autosquash'

# github
alias ghpr='gh pr create --fill --reviewer mtmn,j05k0,filipprosovsky,SamuelHopko,mgarces'

# docker alias
alias docker='lima nerdctl'
alias d=docker

# kubectl aliases
alias k='kubectl'
alias kg='kubectl get'
alias kgpf='kubectl get pod --field-selector=status.phase!=Running,status.phase!=Succeeded'
alias kgir='kubectl get ingressroute'
alias kgnp='kubectl get networkpolicy'
alias kgnpa='kubectl get networkpolicy -A'
alias kgev='kubectl get events --sort-by='\''{.lastTimestamp}'\'
alias kds='kubectl describe'
alias kl='kubectl logs --tail 100'
alias kdr='kubectl --dry-run=client -o yaml'
alias kbb='kubectl run -it --rm busybox --image=busybox --restart=Never -- sh'
alias kbbc='kubectl run busybox-test --image=radial/busyboxplus:curl -it --rm --restart=Never --'

alias -g Oy="--output yaml"
alias -g LL=' |& less'
alias -g GG=' |& rg'

# AWS gossm
# https://github.com/gjbae1212/gossm
alias ssm='gossm start --profile default'
alias ssm-stage='gossm start --profile stage'
alias mfa='awsmfa --profile default'

# azure subscription
alias az-pp-dev="az account set --subscription 'Portal Prazana Dev/Test'"
alias az-pp-prod="az account set --subscription 'Portal Prazana Prod'"
